-- Function to raise the turtle 3 blocks up
function riseUp(levels)
    for i = 1, levels do
        turtle.up()
    end
end

-- Function to determine facing direction
function determineDirection()
    local startX, startY, startZ = gps.locate(5)

    -- Move forward and check coordinates
    turtle.forward()
    local newX, newY, newZ = gps.locate(5)

    -- Determine if X or Z has changed
    if newX ~= startX then
        if newX > startX then
            print("Facing East")
        else
            print("Facing West")
        end
    elseif newZ ~= startZ then
        if newZ > startZ then
            print("Facing South")
        else
            print("Facing North")
        end
    end

    -- Move back to original position
    turtle.back()

    -- Turn left and move forward to check again (optional verification)
    turtle.turnLeft()
    turtle.forward()
    local checkX, checkY, checkZ = gps.locate(5)
    turtle.back()

    if checkX ~= newX then
        if checkX > newX then
            print("Now facing East")
        else
            print("Now facing West")
        end
    elseif checkZ ~= newZ then
        if checkZ > newZ then
            print("Now facing South")
        else
            print("Now facing North")
        end
    end

    turtle.turnRight() -- Realign to original facing before the check
end

-- Main execution
riseUp(3)
determineDirection()

function goTo(targetX, targetZ)
    local currentX, currentY, currentZ = gps.locate(5)
    if not currentX then
        print("GPS not available. Make sure you're in range of a GPS satellite network.")
        return
    else
        print("Current position: X=" .. currentX .. ", Y=" .. currentY .. ", Z=" .. currentZ)
    end

    -- Move to target X
    if currentX < targetX then
        turtle.turnRight()  -- Face positive X direction
        print("Turning to face positive X direction.")
    elseif currentX > targetX then
        turtle.turnLeft() -- Face negative X direction
        print("Turning to face negative X direction.")
    end

    while currentX ~= targetX do
        if not turtle.forward() then
            turtle.dig()
            print("Obstacle detected, digging...")
        else
            print("Moving to X=" .. targetX)
        end
        currentX, _, _ = gps.locate(5)
    end

    -- Move to target Z
    if currentZ < targetZ then
        turtle.turnRight()  -- Face positive Z direction
        print("Turning to face positive Z direction.")
    elseif currentZ > targetZ then
        turtle.turnLeft() -- Face negative Z direction
        print("Turning to face negative Z direction.")
    end

    while currentZ ~= targetZ do
        if not turtle.forward() then
            turtle.dig()
            print("Obstacle detected, digging...")
        else
            print("Moving to Z=" .. targetZ)
        end
        _, _, currentZ = gps.locate(5)
    end

    -- Ensure the turtle faces north
    print("Adjusting to face north.")
    while not facing("north") do
        turtle.turnRight()
        print("Turning right to find north...")
    end
    print("Now facing north.")
end

-- Function to check the turtle's facing direction
function facing(direction)
    local _, orientation = gps.locate(5)
    return ({["north"]=0, ["east"]=1, ["south"]=2, ["west"]=3})[direction] == orientation
end

-- Call the goTo function with your coordinates
goTo(-337, -16)

-- Function to move up in the air
function riseUp(levels)
    for i = 1, levels do
        turtle.up()
    end
end

-- Simple function to move to a specific coordinate at a fixed altitude
function goTo(x, z)
    local currentX, currentZ = gps.locate(5)  -- Assume Y is constant; ignore it here
    if not currentX then
        print("GPS not available. Make sure you're in range of a GPS satellite network.")
        return
    end

    -- Ascend to avoid obstacles
    riseUp(3)

    -- Move to the correct X position
    while currentX < x do
        while not turtle.forward() do
            turtle.dig()
        end
        currentX = currentX + 1
    end
    while currentX > x do
        turtle.turnLeft()
        turtle.turnLeft()  -- Turn around to go backwards
        while not turtle.forward() do
            turtle.dig()
        end
        currentX = currentX - 1
        turtle.turnLeft()
        turtle.turnLeft()  -- Reorient to original direction
    end

    -- Move to the correct Z position
    while currentZ < z do
        turtle.turnRight()  -- Turn to face positive Z direction
        while not turtle.forward() do
            turtle.dig()
        end
        currentZ = currentZ + 1
        turtle.turnLeft()  -- Reorient to original direction
    end
    while currentZ > z do
        turtle.turnLeft()  -- Turn to face negative Z direction
        while not turtle.forward() do
            turtle.dig()
        end
        currentZ = currentZ - 1
        turtle.turnRight()  -- Reorient to original direction
    end
end

-- Main execution
goTo(-337, -16)  -- Adjust the coordinates as needed (x and z)
-- Ensure the turtle is facing north manually or add additional logic for orientation if necessary

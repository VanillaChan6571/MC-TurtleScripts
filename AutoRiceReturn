function goTo(targetX, targetZ)
    local currentX, currentY, currentZ = gps.locate(5)
    if not currentX then
        print("GPS not available. Make sure you're in range of a GPS satellite network.")
        return
    else
        print("Current position: X=" .. currentX .. ", Y=" .. currentY .. ", Z=" .. currentZ)
    end

    -- Navigate to the correct X coordinate
    if currentX < targetX then
        while not facingEast() do turtle.turnRight() end
        repeat
            if not turtle.forward() then turtle.dig() end
            currentX = gps.locate(5)
        until currentX >= targetX
    elseif currentX > targetX then
        while not facingWest() do turtle.turnRight() end
        repeat
            if not turtle.forward() then turtle.dig() end
            currentX = gps.locate(5)
        until currentX <= targetX
    end

    -- Navigate to the correct Z coordinate
    if currentZ < targetZ then
        while not facingSouth() do turtle.turnRight() end
        repeat
            if not turtle.forward() then turtle.dig() end
            currentZ = gps.locate(5)
        until currentZ >= targetZ
    elseif currentZ > targetZ then
        while not facingNorth() do turtle.turnRight() end
        repeat
            if not turtle.forward() then turtle.dig() end
            currentZ = gps.locate(5)
        until currentZ <= targetZ
    end
end

-- Direction checks
function facingNorth()
    local _, orientation = gps.locate(5)
    return orientation == 0
end

function facingEast()
    local _, orientation = gps.locate(5)
    return orientation == 1
end

function facingSouth()
    local _, orientation = gps.locate(5)
    return orientation == 2
end

function facingWest()
    local _, orientation = gps.locate(5)
    return orientation == 3
end

-- Start the movement
goTo(-337, -16)
